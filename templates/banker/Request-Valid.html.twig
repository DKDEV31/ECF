{% extends 'base.html.twig' %}

{% block title %}Demande N°{{ request.id }}{% endblock %}
{% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
    {{ encore_entry_link_tags('banker') }}
{% endblock %}
{% block javascripts %}
    {{ encore_entry_script_tags('app') }}
    {{ encore_entry_script_tags('banker') }}
{% endblock %}
{% block callToAction %}
{% endblock %}
{% block content %}
    <div class="grid-container">
        <aside class="side-menu">

        </aside>
        <main class="main-menu">
            <p>Nom du client: {{ client.lastname }}</p>
            <p>Prénom du client: {{ client.firstname }}</p>
            <p>Type de demande: {{ request.type }}</p>
            {% if request.type == 'Ajout de beneficiaire' %}
            <p>Nom du beneficiare: {{ request.Name }}</p>
            <p>Nom de la Banque: {{ request.BankName }}</p>
            <p>Numéro de compte: {{ request.AccountNumber }}</p>
            <a href="{{ path('app_banker_benefit_create', {bankerId: app.user.id, requestId: request.id}) }}" class="btn">Accepter la demande</a>
            <a href="{{ path('app_banker_request_benefit_deny', {bankerId: app.user.id, requestId: request.id}) }}" class="btn-danger">Refuser la demande</a>
            {% elseif request.type != 'Suppression de compte' %}
            <img src="{{ asset('CNI/' ~ request.idCard) }}" alt="CNI" class="request-view-img">
            <a href="{{ path('app_banker_account_create', {bankerId: app.user.id, requestId: request.id}) }}" class="btn">Accepter la demande</a>
            <a href="{{ path('app_banker_request_accountAdd_deny', {bankerId: app.user.id, requestId: request.id}) }}" class="btn-danger">Refuser la demande</a>
            {% else %}
            <p>Numéro de compte: {{ request.accountNumber }}</p>
            <img src="{{ asset('signature/' ~ request.CloseRequest) }}" alt="signature" class="request-view-img">
            <a href="{{ path('app_banker_account_delete', {bankerId: app.user.id, requestId: request.id}) }}" class="btn">Accepter la demande</a>
            <a href="{{ path('app_banker_request_accountDelete_deny', {bankerId: app.user.id, requestId: request.id}) }}" class="btn-danger">Refuser la demande</a>
            {% endif %}
        </main>
    </div>
{% endblock %}